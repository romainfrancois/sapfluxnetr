<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>sfn_data classes • sapfluxnetr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="sfn_data classes">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sapfluxnetr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.5.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/custom-aggregation.html">Custom aggregation</a>
    </li>
    <li>
      <a href="../articles/data-flags.html">Data Flags</a>
    </li>
    <li>
      <a href="../articles/memory-and-parallelization.html">Memory and Parallelization</a>
    </li>
    <li>
      <a href="../articles/metadata-and-data-units.html">Metadata and Data units</a>
    </li>
    <li>
      <a href="../articles/sapfluxnetr-quick-guide.html">sapfluxnetr (Not So) Quick Guide</a>
    </li>
    <li>
      <a href="../articles/sfn-data-classes.html">sfn_data classes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sapfluxnet/sapfluxnetr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>sfn_data classes</h1>
                        <h4 class="author">Victor Granda (Sapfluxnet Team)</h4>
            
            <h4 class="date">2019-03-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sapfluxnet/sapfluxnetr/blob/master/vignettes/sfn-data-classes.Rmd"><code>vignettes/sfn-data-classes.Rmd</code></a></small>
      <div class="hidden name"><code>sfn-data-classes.Rmd</code></div>

    </div>

    
    
<div id="sfn_data" class="section level1">
<h1 class="hasAnchor">
<a href="#sfn_data" class="anchor"></a><code>sfn_data</code>
</h1>
<p><code>snf_data</code> is an S4 class designed for store and interact with sapflow data at individual plant level (not raw data), primarily from Sapfluxnet project sites data and metadata.</p>
<div id="s4-slots" class="section level2">
<h2 class="hasAnchor">
<a href="#s4-slots" class="anchor"></a>S4 Slots</h2>
<p><code>sfn_data</code> class has twelve different slots:</p>
<ol style="list-style-type: decimal">
<li><p><strong>sapf_data</strong>: Tibble containing the sapflow data, each column representing an individual tree, <strong>without</strong> any TIMESTAMP variable.</p></li>
<li><p><strong>env_data</strong>: Tibble containing the environmental data, each column an environmental variable, <strong>without</strong> any TIMESTAMP variable. It must have the same <code>nrow</code> that <code>sapf_data</code>, in order to be able to combine both in further analyses or aggregations.</p></li>
<li><p><strong>sapf_flags</strong>: Tibble with the same dimensions as <code>sapf_data</code>, containing the flags (special remarks indicating possible outliers or any annotation of interest) for each observation in <code>sapf_data</code>.</p></li>
<li><p><strong>env_flags</strong>: Tibble with the same dimensions as <code>env_data</code>, containing the flags for each observation in <code>env_data</code>.</p></li>
<li><p><strong>si_code</strong>: Character vector of length 1 with the site code. Useful for further analyses or aggregations in order to identify the site when working with more than one.</p></li>
<li><p><strong>timestamp</strong>: POSIXct vector of length equal to <code><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow(sapf_data)</a></code> with the timestamp values.</p></li>
<li><p><strong>solar_timestamp</strong>: POSIXct vector of length equal to <code><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow(sapf_data)</a></code> with the aparent solar timestamp.</p></li>
<li><p><strong>site_md</strong>: Tibble with the site metadata. See <code><a href="../reference/sfn_vars_to_filter.html">sfn_vars_to_filter()</a></code> for a list of possible metadata variables. This variables are not mandatory, and new ones can be added.</p></li>
<li><p><strong>stand_md</strong>: Tibble with the stand metadata. See <code><a href="../reference/sfn_vars_to_filter.html">sfn_vars_to_filter()</a></code> for a list of possible metadata variables. This variables are not mandatory, and new ones can be added.</p></li>
<li><p><strong>species_md</strong>: Tibble with the species metadata. See <code><a href="../reference/sfn_vars_to_filter.html">sfn_vars_to_filter()</a></code> for a list of possible metadata variables. This variables are not mandatory, and new ones can be added.</p></li>
<li><p><strong>plant_md</strong>: Tibble with the plant metadata. See <code><a href="../reference/sfn_vars_to_filter.html">sfn_vars_to_filter()</a></code> for a list of possible metadata variables. This variables are not mandatory, and new ones can be added.</p></li>
<li><p><strong>env_md</strong>: Tibble with the environmental metadata. See <code><a href="../reference/sfn_vars_to_filter.html">sfn_vars_to_filter()</a></code> for a list of possible metadata variables. This variables are not mandatory, and new ones can be added.</p></li>
</ol>
<div id="sfn_data-design" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_data-design" class="anchor"></a><code>sfn_data</code> design</h3>
<p>The schematics of the class are summarised in Fig 1.</p>
<div class="figure">
<img src="resources/schematics.svg.png" alt="sfn_data schematics"><p class="caption">sfn_data schematics</p>
</div>
<p>This design have some characteristics:</p>
<ul>
<li>
<p><strong>Dimensions</strong>: Dimensions must comply:</p>
<p><code>nrow(sapf_data) == nrow(env_data) == nrow(sapf_flags) == nrow(env_flags) == length(timestamp) == length(solar_timestamp)</code></p>
<p><code>ncol(sapf_data) == ncol(sapf_flags)</code></p>
<p><code>ncol(env_data) == ncol(env_flags)</code></p>
<p>In the case of differences in the dimensions between environmental and sap flow data, NAs must be added in the corresponding places when equalising both TIMESTAMPs (i.e. if env data is longer than sapf data, rows are added to the later with NAs to make them equal, and flags (“NA_ADDED”) are raised to indicate the adding).</p>
</li>
<li><p><strong>si_code slot</strong>: This slot indicates the site. This is useful for identifying the site in the metrics functions results.</p></li>
<li><p><strong>Compartimentalization</strong>: <code>timestamp</code> and <code>solar_timestamp</code> are isolated from data (sapf and env) in their own slot. This made easier subsetting the object and open the possibility of working with the timestamps only.</p></li>
<li>
<p><strong>Flags</strong>: Two slots are used for storing data flags. As the flag slots have the same dimensions as the corresponding dataset slot, selection of flagged data is straightforward:</p>
<p><code>sapf_data[flag_data == "flag", ]</code></p>
</li>
</ul>
</div>
</div>
<div id="methods" class="section level2">
<h2 class="hasAnchor">
<a href="#methods" class="anchor"></a>Methods</h2>
<p>Some methods are included in the class:</p>
<ul>
<li>
<code>show</code>: calling a sfn_data object shows info about it</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sapfluxnetr)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">'ARG_TRE'</span>, <span class="dt">package =</span> <span class="st">'sapfluxnetr'</span>)</a>
<a class="sourceLine" id="cb1-3" title="3">ARG_TRE</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; sfn_data object</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; Data from ARG_TRE site</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; Data kindly provided by  Seabstian Pfautsch  from  University of Sydney</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; and  Pablo Peri  from  Instituto Nacional de Tecnología Agropecuaria </span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt; Site related literature:  DOI 10.1007/s00468-013-0935-4 </span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt; Sapflow data:  312  observations of  4  trees/plants</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#&gt; Species present:  Nothofagus antarctica </span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt; Environmental data:  312  observations.</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">#&gt; Variables present:</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">#&gt;   ta rh vpd sw_in ws precip swc_shallow ppfd_in ext_rad </span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co">#&gt; Biome:  Mediterranean </span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="co">#&gt; TIMESTAMP span:  2009-11-18 -03--2009-11-30 23:00:00 -03 </span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="co">#&gt; Solar TIMESTAMP span:  2009-11-17 22:24:58 UTC--2009-11-30 21:20:48 UTC </span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="co">#&gt; Sapflow data flags:</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="co">#&gt; No flags present</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="co">#&gt; Environmental data flags:</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="co">#&gt; RANGE_WARN   OUT_WARN CALCULATED </span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">#&gt;         18         24        624</span></a></code></pre></div>
<ul>
<li>
<code>get methods</code>: methods to get any slot outside the object. In the case of sapf and env data, TIMESTAMP is added (based on the <code>solar</code> argument) in order to obtain fully functional datasets. See <code><a href="../reference/sfn_get_methods.html">?sfn_get_methods</a></code> for more details.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(ARG_TRE, <span class="dt">solar =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt; # A time tibble: 312 x 5</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_1 ARG_TRE_Nan_Jt_2 ARG_TRE_Nan_Jt_3</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt;  1 2009-11-18 00:00:00             322.             190.             313.</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt;  2 2009-11-18 01:00:00             293.             157.             293.</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt;  3 2009-11-18 02:00:00             298.             178.             331.</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt;  4 2009-11-18 03:00:00             298.             168.             299.</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt;  5 2009-11-18 04:00:00             301.             170.             292.</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt;  6 2009-11-18 05:00:00             320.             198.             295.</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#&gt;  7 2009-11-18 06:00:00             343.             196.             301.</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#&gt;  8 2009-11-18 07:00:00             324.             194.             292.</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">#&gt;  9 2009-11-18 08:00:00             353.             284.             323.</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">#&gt; 10 2009-11-18 09:00:00             433.             340.             352.</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co">#&gt; # … with 302 more rows, and 1 more variable: ARG_TRE_Nan_Jt_4 &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(ARG_TRE, <span class="dt">solar =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">#&gt; # A time tibble: 312 x 5</span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_1 ARG_TRE_Nan_Jt_2 ARG_TRE_Nan_Jt_3</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="co">#&gt;  1 2009-11-17 22:24:58             322.             190.             313.</span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="co">#&gt;  2 2009-11-17 23:24:58             293.             157.             293.</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="co">#&gt;  3 2009-11-18 00:24:43             298.             178.             331.</span></a>
<a class="sourceLine" id="cb2-25" title="25"><span class="co">#&gt;  4 2009-11-18 01:24:43             298.             168.             299.</span></a>
<a class="sourceLine" id="cb2-26" title="26"><span class="co">#&gt;  5 2009-11-18 02:24:43             301.             170.             292.</span></a>
<a class="sourceLine" id="cb2-27" title="27"><span class="co">#&gt;  6 2009-11-18 03:24:43             320.             198.             295.</span></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="co">#&gt;  7 2009-11-18 04:24:43             343.             196.             301.</span></a>
<a class="sourceLine" id="cb2-29" title="29"><span class="co">#&gt;  8 2009-11-18 05:24:43             324.             194.             292.</span></a>
<a class="sourceLine" id="cb2-30" title="30"><span class="co">#&gt;  9 2009-11-18 06:24:43             353.             284.             323.</span></a>
<a class="sourceLine" id="cb2-31" title="31"><span class="co">#&gt; 10 2009-11-18 07:24:43             433.             340.             352.</span></a>
<a class="sourceLine" id="cb2-32" title="32"><span class="co">#&gt; # … with 302 more rows, and 1 more variable: ARG_TRE_Nan_Jt_4 &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-33" title="33"><span class="kw"><a href="../reference/sfn_get_generics.html">get_env_data</a></span>(ARG_TRE) <span class="co"># solar default is FALSE</span></a>
<a class="sourceLine" id="cb2-34" title="34"><span class="co">#&gt; # A time tibble: 312 x 10</span></a>
<a class="sourceLine" id="cb2-35" title="35"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb2-36" title="36"><span class="co">#&gt;    TIMESTAMP              ta    rh   vpd sw_in    ws precip swc_shallow</span></a>
<a class="sourceLine" id="cb2-37" title="37"><span class="co">#&gt;    &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-38" title="38"><span class="co">#&gt;  1 2009-11-18 00:00:00  1     41.7 0.383   0   13.6       0       0.396</span></a>
<a class="sourceLine" id="cb2-39" title="39"><span class="co">#&gt;  2 2009-11-18 01:00:00  1.2   41.5 0.389   0   15.8       0       0.396</span></a>
<a class="sourceLine" id="cb2-40" title="40"><span class="co">#&gt;  3 2009-11-18 02:00:00  1.4   41.4 0.396   0   22.5       0       0.395</span></a>
<a class="sourceLine" id="cb2-41" title="41"><span class="co">#&gt;  4 2009-11-18 03:00:00  1     38.9 0.401   0   13.6       0       0.394</span></a>
<a class="sourceLine" id="cb2-42" title="42"><span class="co">#&gt;  5 2009-11-18 04:00:00  0.6   36.5 0.405   0    6.72      0       0.394</span></a>
<a class="sourceLine" id="cb2-43" title="43"><span class="co">#&gt;  6 2009-11-18 05:00:00  1.65  37.5 0.430   0   20.3       0       0.394</span></a>
<a class="sourceLine" id="cb2-44" title="44"><span class="co">#&gt;  7 2009-11-18 06:00:00  2.7   38.5 0.456   0    4.48      0       0.393</span></a>
<a class="sourceLine" id="cb2-45" title="45"><span class="co">#&gt;  8 2009-11-18 07:00:00  4     38.2 0.503   0    2.24      0       0.392</span></a>
<a class="sourceLine" id="cb2-46" title="46"><span class="co">#&gt;  9 2009-11-18 08:00:00  5.3   37.8 0.554  99.4  2.24      0       0.391</span></a>
<a class="sourceLine" id="cb2-47" title="47"><span class="co">#&gt; 10 2009-11-18 09:00:00  6.75  33.0 0.660 245    4.48      0       0.391</span></a>
<a class="sourceLine" id="cb2-48" title="48"><span class="co">#&gt; # … with 302 more rows, and 2 more variables: ppfd_in &lt;dbl&gt;, ext_rad &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-49" title="49"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_flags</a></span>(ARG_TRE) <span class="co"># solar default is FALSE</span></a>
<a class="sourceLine" id="cb2-50" title="50"><span class="co">#&gt; # A time tibble: 312 x 5</span></a>
<a class="sourceLine" id="cb2-51" title="51"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb2-52" title="52"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_1 ARG_TRE_Nan_Jt_2 ARG_TRE_Nan_Jt_3</span></a>
<a class="sourceLine" id="cb2-53" title="53"><span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb2-54" title="54"><span class="co">#&gt;  1 2009-11-18 00:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-55" title="55"><span class="co">#&gt;  2 2009-11-18 01:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-56" title="56"><span class="co">#&gt;  3 2009-11-18 02:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-57" title="57"><span class="co">#&gt;  4 2009-11-18 03:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-58" title="58"><span class="co">#&gt;  5 2009-11-18 04:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-59" title="59"><span class="co">#&gt;  6 2009-11-18 05:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-60" title="60"><span class="co">#&gt;  7 2009-11-18 06:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-61" title="61"><span class="co">#&gt;  8 2009-11-18 07:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-62" title="62"><span class="co">#&gt;  9 2009-11-18 08:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-63" title="63"><span class="co">#&gt; 10 2009-11-18 09:00:00 ""               ""               ""              </span></a>
<a class="sourceLine" id="cb2-64" title="64"><span class="co">#&gt; # … with 302 more rows, and 1 more variable: ARG_TRE_Nan_Jt_4 &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb2-65" title="65"><span class="kw"><a href="../reference/sfn_get_generics.html">get_env_flags</a></span>(ARG_TRE) <span class="co"># solar default is FALSE</span></a>
<a class="sourceLine" id="cb2-66" title="66"><span class="co">#&gt; # A time tibble: 312 x 10</span></a>
<a class="sourceLine" id="cb2-67" title="67"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb2-68" title="68"><span class="co">#&gt;    TIMESTAMP           ta    rh    vpd   sw_in ws    precip swc_shallow</span></a>
<a class="sourceLine" id="cb2-69" title="69"><span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      </span></a>
<a class="sourceLine" id="cb2-70" title="70"><span class="co">#&gt;  1 2009-11-18 00:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-71" title="71"><span class="co">#&gt;  2 2009-11-18 01:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-72" title="72"><span class="co">#&gt;  3 2009-11-18 02:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-73" title="73"><span class="co">#&gt;  4 2009-11-18 03:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-74" title="74"><span class="co">#&gt;  5 2009-11-18 04:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-75" title="75"><span class="co">#&gt;  6 2009-11-18 05:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-76" title="76"><span class="co">#&gt;  7 2009-11-18 06:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-77" title="77"><span class="co">#&gt;  8 2009-11-18 07:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-78" title="78"><span class="co">#&gt;  9 2009-11-18 08:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-79" title="79"><span class="co">#&gt; 10 2009-11-18 09:00:00 ""    ""    ""    ""    ""    ""     ""         </span></a>
<a class="sourceLine" id="cb2-80" title="80"><span class="co">#&gt; # … with 302 more rows, and 2 more variables: ppfd_in &lt;chr&gt;, ext_rad &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb2-81" title="81"><span class="kw"><a href="../reference/sfn_get_generics.html">get_si_code</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb2-82" title="82"><span class="co">#&gt; [1] "ARG_TRE"</span></a>
<a class="sourceLine" id="cb2-83" title="83"><span class="kw"><a href="../reference/sfn_get_generics.html">get_timestamp</a></span>(ARG_TRE)[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb2-84" title="84"><span class="co">#&gt;  [1] "2009-11-18 00:00:00 -03" "2009-11-18 01:00:00 -03"</span></a>
<a class="sourceLine" id="cb2-85" title="85"><span class="co">#&gt;  [3] "2009-11-18 02:00:00 -03" "2009-11-18 03:00:00 -03"</span></a>
<a class="sourceLine" id="cb2-86" title="86"><span class="co">#&gt;  [5] "2009-11-18 04:00:00 -03" "2009-11-18 05:00:00 -03"</span></a>
<a class="sourceLine" id="cb2-87" title="87"><span class="co">#&gt;  [7] "2009-11-18 06:00:00 -03" "2009-11-18 07:00:00 -03"</span></a>
<a class="sourceLine" id="cb2-88" title="88"><span class="co">#&gt;  [9] "2009-11-18 08:00:00 -03" "2009-11-18 09:00:00 -03"</span></a>
<a class="sourceLine" id="cb2-89" title="89"><span class="kw"><a href="../reference/sfn_get_generics.html">get_solar_timestamp</a></span>(ARG_TRE)[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb2-90" title="90"><span class="co">#&gt;  [1] "2009-11-17 22:24:58 UTC" "2009-11-17 23:24:58 UTC"</span></a>
<a class="sourceLine" id="cb2-91" title="91"><span class="co">#&gt;  [3] "2009-11-18 00:24:43 UTC" "2009-11-18 01:24:43 UTC"</span></a>
<a class="sourceLine" id="cb2-92" title="92"><span class="co">#&gt;  [5] "2009-11-18 02:24:43 UTC" "2009-11-18 03:24:43 UTC"</span></a>
<a class="sourceLine" id="cb2-93" title="93"><span class="co">#&gt;  [7] "2009-11-18 04:24:43 UTC" "2009-11-18 05:24:43 UTC"</span></a>
<a class="sourceLine" id="cb2-94" title="94"><span class="co">#&gt;  [9] "2009-11-18 06:24:43 UTC" "2009-11-18 07:24:43 UTC"</span></a>
<a class="sourceLine" id="cb2-95" title="95"><span class="kw"><a href="../reference/sfn_get_generics.html">get_site_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb2-96" title="96"><span class="co">#&gt; # A tibble: 1 x 24</span></a>
<a class="sourceLine" id="cb2-97" title="97"><span class="co">#&gt;   si_addcontr_ema… si_addcontr_fir… si_addcontr_ins… si_addcontr_las…</span></a>
<a class="sourceLine" id="cb2-98" title="98"><span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb2-99" title="99"><span class="co">#&gt; 1 &lt;NA&gt;             Pablo            Instituto Nacio… Peri            </span></a>
<a class="sourceLine" id="cb2-100" title="100"><span class="co">#&gt; # … with 20 more variables: si_code &lt;chr&gt;, si_contact_email &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-101" title="101"><span class="co">#&gt; #   si_contact_firstname &lt;chr&gt;, si_contact_institution &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-102" title="102"><span class="co">#&gt; #   si_contact_lastname &lt;chr&gt;, si_country &lt;chr&gt;, si_dendro_network &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb2-103" title="103"><span class="co">#&gt; #   si_dist_mgmt &lt;chr&gt;, si_elev &lt;int&gt;, si_flux_network &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb2-104" title="104"><span class="co">#&gt; #   si_igbp &lt;chr&gt;, si_lat &lt;dbl&gt;, si_long &lt;dbl&gt;, si_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-105" title="105"><span class="co">#&gt; #   si_paper &lt;chr&gt;, si_remarks &lt;lgl&gt;, is_inside_country &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb2-106" title="106"><span class="co">#&gt; #   si_mat &lt;dbl&gt;, si_map &lt;dbl&gt;, si_biome &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb2-107" title="107"><span class="kw"><a href="../reference/sfn_get_generics.html">get_stand_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb2-108" title="108"><span class="co">#&gt; # A tibble: 1 x 18</span></a>
<a class="sourceLine" id="cb2-109" title="109"><span class="co">#&gt;   st_age st_aspect st_basal_area st_clay_perc st_density st_growth_condi…</span></a>
<a class="sourceLine" id="cb2-110" title="110"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;lgl&gt;             &lt;int&gt; &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb2-111" title="111"><span class="co">#&gt; 1    140 Flat               19.4 NA                  512 Naturally regen…</span></a>
<a class="sourceLine" id="cb2-112" title="112"><span class="co">#&gt; # … with 12 more variables: st_height &lt;int&gt;, st_lai &lt;lgl&gt;, st_name &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb2-113" title="113"><span class="co">#&gt; #   st_remarks &lt;lgl&gt;, st_sand_perc &lt;lgl&gt;, st_silt_perc &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb2-114" title="114"><span class="co">#&gt; #   st_soil_depth &lt;int&gt;, st_soil_texture &lt;chr&gt;, st_terrain &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-115" title="115"><span class="co">#&gt; #   st_treatment &lt;lgl&gt;, si_code &lt;chr&gt;, st_USDA_soil_texture &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb2-116" title="116"><span class="kw"><a href="../reference/sfn_get_generics.html">get_species_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb2-117" title="117"><span class="co">#&gt; # A tibble: 1 x 5</span></a>
<a class="sourceLine" id="cb2-118" title="118"><span class="co">#&gt;   sp_basal_area_perc sp_leaf_habit  sp_name               sp_ntrees si_code</span></a>
<a class="sourceLine" id="cb2-119" title="119"><span class="co">#&gt;                &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;                     &lt;int&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb2-120" title="120"><span class="co">#&gt; 1                100 cold deciduous Nothofagus antarctica         4 ARG_TRE</span></a>
<a class="sourceLine" id="cb2-121" title="121"><span class="kw"><a href="../reference/sfn_get_generics.html">get_plant_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb2-122" title="122"><span class="co">#&gt; # A tibble: 4 x 26</span></a>
<a class="sourceLine" id="cb2-123" title="123"><span class="co">#&gt;   pl_age pl_azimut_int pl_bark_thick pl_code pl_dbh pl_height pl_leaf_area</span></a>
<a class="sourceLine" id="cb2-124" title="124"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;lgl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-125" title="125"><span class="co">#&gt; 1    140 Corrected, m…          23.5 ARG_TR…   23.6 NA                29.7</span></a>
<a class="sourceLine" id="cb2-126" title="126"><span class="co">#&gt; 2    140 No azimuthal…          22.5 ARG_TR…   20.2 NA                13.0</span></a>
<a class="sourceLine" id="cb2-127" title="127"><span class="co">#&gt; 3    140 No azimuthal…          22   ARG_TR…   23.8 NA                29.8</span></a>
<a class="sourceLine" id="cb2-128" title="128"><span class="co">#&gt; 4    140 No azimuthal…          23.5 ARG_TR…   19.5 NA                15.1</span></a>
<a class="sourceLine" id="cb2-129" title="129"><span class="co">#&gt; # … with 19 more variables: pl_name &lt;chr&gt;, pl_radial_int &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-130" title="130"><span class="co">#&gt; #   pl_remarks &lt;lgl&gt;, pl_sap_units &lt;chr&gt;, pl_sapw_area &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb2-131" title="131"><span class="co">#&gt; #   pl_sapw_depth &lt;dbl&gt;, pl_sens_calib &lt;lgl&gt;, pl_sens_cor_grad &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-132" title="132"><span class="co">#&gt; #   pl_sens_cor_zero &lt;chr&gt;, pl_sens_hgt &lt;dbl&gt;, pl_sens_length &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb2-133" title="133"><span class="co">#&gt; #   pl_sens_man &lt;chr&gt;, pl_sens_meth &lt;chr&gt;, pl_sens_timestep &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb2-134" title="134"><span class="co">#&gt; #   pl_social &lt;chr&gt;, pl_species &lt;chr&gt;, pl_treatment &lt;lgl&gt;, si_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-135" title="135"><span class="co">#&gt; #   pl_sap_units_orig &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb2-136" title="136"><span class="kw"><a href="../reference/sfn_get_generics.html">get_env_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb2-137" title="137"><span class="co">#&gt; # A tibble: 1 x 17</span></a>
<a class="sourceLine" id="cb2-138" title="138"><span class="co">#&gt;   env_leafarea_se… env_netrad env_plant_watpot env_ppfd_in env_precip</span></a>
<a class="sourceLine" id="cb2-139" title="139"><span class="co">#&gt;   &lt;lgl&gt;            &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;       &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb2-140" title="140"><span class="co">#&gt; 1 NA               Not provi… leaf: midday     Not provid… Clearing  </span></a>
<a class="sourceLine" id="cb2-141" title="141"><span class="co">#&gt; # … with 12 more variables: env_remarks &lt;lgl&gt;, env_rh &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-142" title="142"><span class="co">#&gt; #   env_swc_deep_depth &lt;lgl&gt;, env_swc_shallow_depth &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb2-143" title="143"><span class="co">#&gt; #   env_sw_in &lt;chr&gt;, env_ta &lt;chr&gt;, env_time_daylight &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb2-144" title="144"><span class="co">#&gt; #   env_timestep &lt;int&gt;, env_time_zone &lt;chr&gt;, env_vpd &lt;chr&gt;, env_ws &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb2-145" title="145"><span class="co">#&gt; #   si_code &lt;chr&gt;</span></a></code></pre></div>
<ul>
<li>
<code>assignation</code>: methods for <code>"&lt;-"</code> are implemented, allowing transformation of the slots. This is used internally in some functions but is not recommended except for updating metadata slots. In data slots this changes are not reflected in the flags, so the reproducibility and traceability will be lost if used without care. See <code><a href="../reference/sfn_replacement_methods.html">?sfn_replacement_methods</a></code> for more details.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># extraction and modification</span></a>
<a class="sourceLine" id="cb3-2" title="2">foo_site_md &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_get_generics.html">get_site_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb3-3" title="3">foo_site_md[[<span class="st">'si_biome'</span>]]</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt; [1] "Mediterranean"</span></a>
<a class="sourceLine" id="cb3-5" title="5">foo_site_md[[<span class="st">'si_biome'</span>]] &lt;-<span class="st"> 'Temperate forest'</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co"># assignation</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="kw"><a href="../reference/sfn_get_generics.html">get_site_md</a></span>(ARG_TRE) &lt;-<span class="st"> </span>foo_site_md</a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co"># check it worked</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="kw"><a href="../reference/sfn_get_generics.html">get_site_md</a></span>(ARG_TRE)[[<span class="st">'si_biome'</span>]]</a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; [1] "Temperate forest"</span></a></code></pre></div>
<ul>
<li>
<code>validation</code>: a validation method is implemented in order to avoid creation of invalid sfn_data objects (i.e objects with different data dimensions, objects without metadata…)</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># get sapflow data</span></a>
<a class="sourceLine" id="cb4-2" title="2">foo_bad_sapf &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co"># pull a row, now it has diferent dimensions than</span></a>
<a class="sourceLine" id="cb4-4" title="4">foo_bad_sapf &lt;-<span class="st"> </span>foo_bad_sapf[<span class="op">-</span><span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co"># try to assign the incorrect data fails</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(ARG_TRE) &lt;-<span class="st"> </span>foo_bad_sapf[,<span class="op">-</span><span class="dv">1</span>] <span class="co"># ERROR</span></a></code></pre></div>
<pre><code>#&gt; Error in `get_sapf_data&lt;-`(`*tmp*`, value = structure(list(ARG_TRE_Nan_Jt_1 = c(292.9710029771, : new data is not valid: Error in validObject(object) : 
#&gt;   invalid class "sfn_data" object: 1: nrow(sapf_data) != nrow(env_data)
#&gt; invalid class "sfn_data" object: 2: nrow(sapf_data) != length(timestamp) | nrow(env_data) != length(timestamp)
#&gt; invalid class "sfn_data" object: 3: nrow(*_flags) =! nrow(*_flags) | nrow(*_flags) =! nrow(*_data)</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># try to build a new object also fails</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw"><a href="../reference/sfn_data-class.html">sfn_data</a></span>(</a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="dt">sapf_data =</span> foo_bad_sapf[,<span class="op">-</span><span class="dv">1</span>], <span class="co"># remember to remove timestamp column</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="dt">env_data =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_env_data</a></span>(ARG_TRE)[,<span class="op">-</span><span class="dv">1</span>],</a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="dt">sapf_flags =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_env_flags</a></span>(ARG_TRE)[,<span class="op">-</span><span class="dv">1</span>],</a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="dt">env_flags =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_env_flags</a></span>(ARG_TRE)[,<span class="op">-</span><span class="dv">1</span>],</a>
<a class="sourceLine" id="cb6-7" title="7">  <span class="dt">si_code =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_si_code</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="dt">timestamp =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_timestamp</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="dt">solar_timestamp =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_solar_timestamp</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-10" title="10">  <span class="dt">site_md =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_site_md</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-11" title="11">  <span class="dt">stand_md =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_stand_md</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-12" title="12">  <span class="dt">species_md =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_species_md</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-13" title="13">  <span class="dt">plant_md =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_plant_md</a></span>(ARG_TRE),</a>
<a class="sourceLine" id="cb6-14" title="14">  <span class="dt">env_md =</span> <span class="kw"><a href="../reference/sfn_get_generics.html">get_env_md</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb6-15" title="15">)</a></code></pre></div>
<pre><code>#&gt; Error in validObject(.Object): invalid class "sfn_data" object: 1: nrow(sapf_data) != nrow(env_data)
#&gt; invalid class "sfn_data" object: 2: nrow(sapf_data) != length(timestamp) | nrow(env_data) != length(timestamp)
#&gt; invalid class "sfn_data" object: 3: nrow(*_flags) =! nrow(*_flags) | nrow(*_flags) =! nrow(*_data)</code></pre>
</div>
<div id="utilities" class="section level2">
<h2 class="hasAnchor">
<a href="#utilities" class="anchor"></a>Utilities</h2>
<p><code>sapfluxnetr</code> package offers some utilities to visulaize and work with sfn_data objects:</p>
<div id="sfn_plot" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_plot" class="anchor"></a><code>sfn_plot</code>
</h3>
<p>This function allows to plot <code>sfn_data</code> objects. See <code><a href="../reference/sfn_plot.html">?sfn_plot</a></code> for more details.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw"><a href="../reference/sfn_plot.html">sfn_plot</a></span>(ARG_TRE, <span class="dt">type =</span> <span class="st">'env'</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span><span class="st"> </span>Variable, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">scales =</span> <span class="st">'free_y'</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>)</a></code></pre></div>
<p><img src="sfn-data-classes_files/figure-html/sfn_plot-1.png" width="576"></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw"><a href="../reference/sfn_plot.html">sfn_plot</a></span>(ARG_TRE, <span class="dt">formula_env =</span> <span class="op">~</span><span class="st"> </span>vpd) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>)</a></code></pre></div>
<p><img src="sfn-data-classes_files/figure-html/sfn_plot-2.png" width="576"></p>
</div>
<div id="sfn_filter" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_filter" class="anchor"></a><code>sfn_filter</code>
</h3>
<p>This function emulates <code>filter</code> function from <code>dplyr</code> package for <code>sfn_data</code> objects. Useful to filter by some especific timestamp. Be advised, using this funcion to filter by sapflow or environmental variables can create TIMESTAMP gaps. See <code>sfn_filter</code> for more details.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(lubridate)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt; Attaching package: 'lubridate'</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">#&gt; The following object is masked from 'package:base':</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="co">#&gt;     date</span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb10-8" title="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-9" title="9"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="co">#&gt; The following objects are masked from 'package:lubridate':</span></a>
<a class="sourceLine" id="cb10-11" title="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-12" title="12"><span class="co">#&gt;     intersect, setdiff, union</span></a>
<a class="sourceLine" id="cb10-13" title="13"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb10-14" title="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb10-16" title="16"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb10-17" title="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-18" title="18"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a>
<a class="sourceLine" id="cb10-19" title="19"></a>
<a class="sourceLine" id="cb10-20" title="20"><span class="co"># get only the values for november</span></a>
<a class="sourceLine" id="cb10-21" title="21"><span class="kw"><a href="../reference/sfn_filter.html">sfn_filter</a></span>(ARG_TRE, <span class="kw"><a href="http://lubridate.tidyverse.org/reference/month.html">month</a></span>(TIMESTAMP) <span class="op">==</span><span class="st"> </span><span class="dv">11</span>)</a>
<a class="sourceLine" id="cb10-22" title="22"><span class="co">#&gt; sfn_data object</span></a>
<a class="sourceLine" id="cb10-23" title="23"><span class="co">#&gt; Data from ARG_TRE site</span></a>
<a class="sourceLine" id="cb10-24" title="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-25" title="25"><span class="co">#&gt; Data kindly provided by  Seabstian Pfautsch  from  University of Sydney</span></a>
<a class="sourceLine" id="cb10-26" title="26"><span class="co">#&gt; and  Pablo Peri  from  Instituto Nacional de Tecnología Agropecuaria </span></a>
<a class="sourceLine" id="cb10-27" title="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-28" title="28"><span class="co">#&gt; Site related literature:  DOI 10.1007/s00468-013-0935-4 </span></a>
<a class="sourceLine" id="cb10-29" title="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-30" title="30"><span class="co">#&gt; Sapflow data:  312  observations of  4  trees/plants</span></a>
<a class="sourceLine" id="cb10-31" title="31"><span class="co">#&gt; Species present:  Nothofagus antarctica </span></a>
<a class="sourceLine" id="cb10-32" title="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-33" title="33"><span class="co">#&gt; Environmental data:  312  observations.</span></a>
<a class="sourceLine" id="cb10-34" title="34"><span class="co">#&gt; Variables present:</span></a>
<a class="sourceLine" id="cb10-35" title="35"><span class="co">#&gt;   ta rh vpd sw_in ws precip swc_shallow ppfd_in ext_rad </span></a>
<a class="sourceLine" id="cb10-36" title="36"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-37" title="37"><span class="co">#&gt; Biome:  Temperate forest </span></a>
<a class="sourceLine" id="cb10-38" title="38"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-39" title="39"><span class="co">#&gt; TIMESTAMP span:  2009-11-18 -03--2009-11-30 23:00:00 -03 </span></a>
<a class="sourceLine" id="cb10-40" title="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-41" title="41"><span class="co">#&gt; Solar TIMESTAMP span:  2009-11-17 22:24:58 UTC--2009-11-30 21:20:48 UTC </span></a>
<a class="sourceLine" id="cb10-42" title="42"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-43" title="43"><span class="co">#&gt; Sapflow data flags:</span></a>
<a class="sourceLine" id="cb10-44" title="44"><span class="co">#&gt; No flags present</span></a>
<a class="sourceLine" id="cb10-45" title="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-46" title="46"><span class="co">#&gt; Environmental data flags:</span></a>
<a class="sourceLine" id="cb10-47" title="47"><span class="co">#&gt; RANGE_WARN   OUT_WARN CALCULATED </span></a>
<a class="sourceLine" id="cb10-48" title="48"><span class="co">#&gt;         18         24        624</span></a></code></pre></div>
</div>
<div id="sfn_mutate" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_mutate" class="anchor"></a><code>sfn_mutate</code>
</h3>
<p>This function allows mutation of data variables inside the <code>sfn_data</code> object. Useful when you need to transform a variable to another units or similar. A flag (‘USER_MODF’) will be added to all values in the mutated variable. See <code>sfn_mutate</code> for more details.</p>
<blockquote>
<p>At this moment, mutate does not allows creating new variables, only mutate existing variables</p>
</blockquote>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># transform ws from m/s to km/h</span></a>
<a class="sourceLine" id="cb11-2" title="2">foo_mutated &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_mutate.html">sfn_mutate</a></span>(ARG_TRE, <span class="dt">ws =</span> ws <span class="op">*</span><span class="st"> </span><span class="dv">3600</span><span class="op">/</span><span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw"><a href="../reference/sfn_get_generics.html">get_env_data</a></span>(foo_mutated)[[<span class="st">'ws'</span>]][<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt;  [1] 48.888 56.952 81.144 48.888 24.192 73.080 16.128  8.064  8.064 16.128</span></a></code></pre></div>
</div>
<div id="sfn_mutate_at" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_mutate_at" class="anchor"></a><code>sfn_mutate_at</code>
</h3>
<p>This function mutates all variables declared with the function provided. Useful when you need to conditionally transform the data, i.e. converting to NA sapflow values when an environmental variable exceeds some threshold. See <code>sfn_mutate_at</code> for more details.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">foo_mutated_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_mutate_at.html">sfn_mutate_at</a></span>(</a>
<a class="sourceLine" id="cb12-2" title="2">  ARG_TRE,</a>
<a class="sourceLine" id="cb12-3" title="3">  <span class="kw"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">one_of</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(<span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(ARG_TRE)[,<span class="op">-</span><span class="dv">1</span>]))),</a>
<a class="sourceLine" id="cb12-4" title="4">  <span class="kw"><a href="https://dplyr.tidyverse.org/reference/funs.html">funs</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span>(</a>
<a class="sourceLine" id="cb12-5" title="5">    ws <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span>,</a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span>.</a>
<a class="sourceLine" id="cb12-7" title="7">  ))</a>
<a class="sourceLine" id="cb12-8" title="8">)</a>
<a class="sourceLine" id="cb12-9" title="9"></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co"># see the difference between ARG_TRE and foo_mutated_2</span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb12-12" title="12"><span class="co">#&gt; # A time tibble: 312 x 5</span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb12-14" title="14"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_1 ARG_TRE_Nan_Jt_2 ARG_TRE_Nan_Jt_3</span></a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb12-16" title="16"><span class="co">#&gt;  1 2009-11-18 00:00:00             322.             190.             313.</span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="co">#&gt;  2 2009-11-18 01:00:00             293.             157.             293.</span></a>
<a class="sourceLine" id="cb12-18" title="18"><span class="co">#&gt;  3 2009-11-18 02:00:00             298.             178.             331.</span></a>
<a class="sourceLine" id="cb12-19" title="19"><span class="co">#&gt;  4 2009-11-18 03:00:00             298.             168.             299.</span></a>
<a class="sourceLine" id="cb12-20" title="20"><span class="co">#&gt;  5 2009-11-18 04:00:00             301.             170.             292.</span></a>
<a class="sourceLine" id="cb12-21" title="21"><span class="co">#&gt;  6 2009-11-18 05:00:00             320.             198.             295.</span></a>
<a class="sourceLine" id="cb12-22" title="22"><span class="co">#&gt;  7 2009-11-18 06:00:00             343.             196.             301.</span></a>
<a class="sourceLine" id="cb12-23" title="23"><span class="co">#&gt;  8 2009-11-18 07:00:00             324.             194.             292.</span></a>
<a class="sourceLine" id="cb12-24" title="24"><span class="co">#&gt;  9 2009-11-18 08:00:00             353.             284.             323.</span></a>
<a class="sourceLine" id="cb12-25" title="25"><span class="co">#&gt; 10 2009-11-18 09:00:00             433.             340.             352.</span></a>
<a class="sourceLine" id="cb12-26" title="26"><span class="co">#&gt; # … with 302 more rows, and 1 more variable: ARG_TRE_Nan_Jt_4 &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb12-27" title="27"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(foo_mutated_<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb12-28" title="28"><span class="co">#&gt; # A time tibble: 312 x 5</span></a>
<a class="sourceLine" id="cb12-29" title="29"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb12-30" title="30"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_1 ARG_TRE_Nan_Jt_2 ARG_TRE_Nan_Jt_3</span></a>
<a class="sourceLine" id="cb12-31" title="31"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb12-32" title="32"><span class="co">#&gt;  1 2009-11-18 00:00:00             322.             190.             313.</span></a>
<a class="sourceLine" id="cb12-33" title="33"><span class="co">#&gt;  2 2009-11-18 01:00:00             293.             157.             293.</span></a>
<a class="sourceLine" id="cb12-34" title="34"><span class="co">#&gt;  3 2009-11-18 02:00:00             298.             178.             331.</span></a>
<a class="sourceLine" id="cb12-35" title="35"><span class="co">#&gt;  4 2009-11-18 03:00:00             298.             168.             299.</span></a>
<a class="sourceLine" id="cb12-36" title="36"><span class="co">#&gt;  5 2009-11-18 04:00:00             301.             170.             292.</span></a>
<a class="sourceLine" id="cb12-37" title="37"><span class="co">#&gt;  6 2009-11-18 05:00:00             320.             198.             295.</span></a>
<a class="sourceLine" id="cb12-38" title="38"><span class="co">#&gt;  7 2009-11-18 06:00:00             343.             196.             301.</span></a>
<a class="sourceLine" id="cb12-39" title="39"><span class="co">#&gt;  8 2009-11-18 07:00:00             324.             194.             292.</span></a>
<a class="sourceLine" id="cb12-40" title="40"><span class="co">#&gt;  9 2009-11-18 08:00:00             353.             284.             323.</span></a>
<a class="sourceLine" id="cb12-41" title="41"><span class="co">#&gt; 10 2009-11-18 09:00:00             433.             340.             352.</span></a>
<a class="sourceLine" id="cb12-42" title="42"><span class="co">#&gt; # … with 302 more rows, and 1 more variable: ARG_TRE_Nan_Jt_4 &lt;dbl&gt;</span></a></code></pre></div>
</div>
<div id="metrics-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#metrics-functions" class="anchor"></a><code>*_metrics</code> functions</h3>
<p>Family of functions to aggregate and summarise the site data. See <code><a href="../reference/metrics.html">?metrics</a></code> for more details.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">foo_daily &lt;-<span class="st"> </span><span class="kw"><a href="../reference/metrics.html">daily_metrics</a></span>(ARG_TRE)</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">#&gt; [1] "Crunching data for ARG_TRE. In large datasets this could take a while"</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">#&gt; [1] "General data for ARG_TRE"</span></a>
<a class="sourceLine" id="cb13-4" title="4">foo_daily[[<span class="st">'sapf'</span>]][[<span class="st">'sapf_gen'</span>]]</a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co">#&gt; NULL</span></a></code></pre></div>
<p>For full control of metrics and custom aggregations see <code><a href="../articles/custom-aggregation.html">vignette('custom-aggregation', package = 'sapfluxnetr')</a></code></p>
</div>
</div>
</div>
<div id="sfn_data_multi" class="section level1">
<h1 class="hasAnchor">
<a href="#sfn_data_multi" class="anchor"></a><code>sfn_data_multi</code>
</h1>
<p><code>sfn_data_multi</code> is an S4 class designed to store multiple <code>sfn_data</code> objects. It inherits from list so, in a nutshell, <code>sfn_data_multi</code> is a list of <code>sfn_data</code> objects.</p>
<div id="methods-1" class="section level2">
<h2 class="hasAnchor">
<a href="#methods-1" class="anchor"></a>Methods</h2>
<p><code>sfn_data_multi</code> has the following methods declared.</p>
<ul>
<li>
<code>show</code>: it shows the number, codes and combined timestamp span of sites in the multi object.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># creating a sfn_data_multi object</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(ARG_MAZ, <span class="dt">package =</span> <span class="st">'sapfluxnetr'</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(AUS_CAN_ST2_MIX, <span class="dt">package =</span> <span class="st">'sapfluxnetr'</span>)</a>
<a class="sourceLine" id="cb14-4" title="4">multi_sfn &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_data_multi-class.html">sfn_data_multi</a></span>(ARG_TRE, ARG_MAZ, AUS_CAN_ST2_MIX)</a>
<a class="sourceLine" id="cb14-5" title="5"></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co"># show method</span></a>
<a class="sourceLine" id="cb14-7" title="7">multi_sfn</a>
<a class="sourceLine" id="cb14-8" title="8"><span class="co">#&gt; sfn_data_multi object</span></a>
<a class="sourceLine" id="cb14-9" title="9"><span class="co">#&gt; 3 sites: ARG_TRE ARG_MAZ AUS_CAN_ST2_MIX</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="co">#&gt; Approximate time span (UTC) for the combined sites: 2006-06-20 10:54:42 UTC--2009-11-18 22:24:18 UTC</span></a></code></pre></div>
<ul>
<li>
<code>get</code> methods: they work the same as in the <code>sfn_data</code> objects, except they return a list, with the corresponding data for the sites in the <code>sfn_data_multi</code> object as elements.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># get sapflow data</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw"><a href="../reference/sfn_get_generics.html">get_sapf_data</a></span>(multi_sfn)</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">#&gt; $ARG_TRE</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">#&gt; # A time tibble: 312 x 5</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_1 ARG_TRE_Nan_Jt_2 ARG_TRE_Nan_Jt_3</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#&gt;  1 2009-11-18 00:00:00             322.             190.             313.</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt;  2 2009-11-18 01:00:00             293.             157.             293.</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">#&gt;  3 2009-11-18 02:00:00             298.             178.             331.</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt;  4 2009-11-18 03:00:00             298.             168.             299.</span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt;  5 2009-11-18 04:00:00             301.             170.             292.</span></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="co">#&gt;  6 2009-11-18 05:00:00             320.             198.             295.</span></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="co">#&gt;  7 2009-11-18 06:00:00             343.             196.             301.</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="co">#&gt;  8 2009-11-18 07:00:00             324.             194.             292.</span></a>
<a class="sourceLine" id="cb15-16" title="16"><span class="co">#&gt;  9 2009-11-18 08:00:00             353.             284.             323.</span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="co">#&gt; 10 2009-11-18 09:00:00             433.             340.             352.</span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="co">#&gt; # … with 302 more rows, and 1 more variable: ARG_TRE_Nan_Jt_4 &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-19" title="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-20" title="20"><span class="co">#&gt; $ARG_MAZ</span></a>
<a class="sourceLine" id="cb15-21" title="21"><span class="co">#&gt; # A time tibble: 288 x 6</span></a>
<a class="sourceLine" id="cb15-22" title="22"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb15-23" title="23"><span class="co">#&gt;    TIMESTAMP           ARG_MAZ_Npu_Jt_1 ARG_MAZ_Npu_Jt_2 ARG_MAZ_Npu_Jt_3</span></a>
<a class="sourceLine" id="cb15-24" title="24"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-25" title="25"><span class="co">#&gt;  1 2009-11-19 00:00:00            1955.             754.             742.</span></a>
<a class="sourceLine" id="cb15-26" title="26"><span class="co">#&gt;  2 2009-11-19 01:00:00            1833.             752.             631.</span></a>
<a class="sourceLine" id="cb15-27" title="27"><span class="co">#&gt;  3 2009-11-19 02:00:00            1817.             795.             597.</span></a>
<a class="sourceLine" id="cb15-28" title="28"><span class="co">#&gt;  4 2009-11-19 03:00:00            1598.             788.             579.</span></a>
<a class="sourceLine" id="cb15-29" title="29"><span class="co">#&gt;  5 2009-11-19 04:00:00            1419.             780.             518.</span></a>
<a class="sourceLine" id="cb15-30" title="30"><span class="co">#&gt;  6 2009-11-19 05:00:00            1506.             735.             430.</span></a>
<a class="sourceLine" id="cb15-31" title="31"><span class="co">#&gt;  7 2009-11-19 06:00:00            1649.             720.             539.</span></a>
<a class="sourceLine" id="cb15-32" title="32"><span class="co">#&gt;  8 2009-11-19 07:00:00            1630.             882.             542.</span></a>
<a class="sourceLine" id="cb15-33" title="33"><span class="co">#&gt;  9 2009-11-19 08:00:00            1909.            1015.             655.</span></a>
<a class="sourceLine" id="cb15-34" title="34"><span class="co">#&gt; 10 2009-11-19 09:00:00            2849.            1459.             930.</span></a>
<a class="sourceLine" id="cb15-35" title="35"><span class="co">#&gt; # … with 278 more rows, and 2 more variables: ARG_MAZ_Npu_Jt_4 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-36" title="36"><span class="co">#&gt; #   ARG_MAZ_Npu_Jt_5 &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-37" title="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-38" title="38"><span class="co">#&gt; $AUS_CAN_ST2_MIX</span></a>
<a class="sourceLine" id="cb15-39" title="39"><span class="co">#&gt; # A time tibble: 17,808 x 35</span></a>
<a class="sourceLine" id="cb15-40" title="40"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb15-41" title="41"><span class="co">#&gt;    TIMESTAMP           AUS_CAN_ST2_MIX… AUS_CAN_ST2_MIX… AUS_CAN_ST2_MIX…</span></a>
<a class="sourceLine" id="cb15-42" title="42"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-43" title="43"><span class="co">#&gt;  1 2006-06-20 11:00:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-44" title="44"><span class="co">#&gt;  2 2006-06-20 11:30:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-45" title="45"><span class="co">#&gt;  3 2006-06-20 12:00:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-46" title="46"><span class="co">#&gt;  4 2006-06-20 12:30:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-47" title="47"><span class="co">#&gt;  5 2006-06-20 13:00:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-48" title="48"><span class="co">#&gt;  6 2006-06-20 13:30:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-49" title="49"><span class="co">#&gt;  7 2006-06-20 14:00:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-50" title="50"><span class="co">#&gt;  8 2006-06-20 14:30:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-51" title="51"><span class="co">#&gt;  9 2006-06-20 15:00:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-52" title="52"><span class="co">#&gt; 10 2006-06-20 15:30:00               NA               NA               NA</span></a>
<a class="sourceLine" id="cb15-53" title="53"><span class="co">#&gt; # … with 17,798 more rows, and 31 more variables:</span></a>
<a class="sourceLine" id="cb15-54" title="54"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_4 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Egl_Js_5 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-55" title="55"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Ame_Js_6 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_7 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-56" title="56"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_8 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Egl_Js_9 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-57" title="57"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Ame_Js_10 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_11 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-58" title="58"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_12 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_13 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-59" title="59"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_14 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Egl_Js_15 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-60" title="60"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Ame_Js_16 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Egl_Js_17 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-61" title="61"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Ame_Js_18 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_19 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-62" title="62"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_20 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_21 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-63" title="63"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_22 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_23 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-64" title="64"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_24 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_25 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-65" title="65"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_26 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_27 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-66" title="66"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_28 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_29 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-67" title="67"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_30 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_31 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-68" title="68"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_32 &lt;dbl&gt;, AUS_CAN_ST2_MIX_Ame_Js_33 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-69" title="69"><span class="co">#&gt; #   AUS_CAN_ST2_MIX_Egl_Js_34 &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-70" title="70"><span class="co"># get plant metadata</span></a>
<a class="sourceLine" id="cb15-71" title="71"><span class="kw"><a href="../reference/sfn_get_generics.html">get_plant_md</a></span>(multi_sfn)</a>
<a class="sourceLine" id="cb15-72" title="72"><span class="co">#&gt; $ARG_TRE</span></a>
<a class="sourceLine" id="cb15-73" title="73"><span class="co">#&gt; # A tibble: 4 x 26</span></a>
<a class="sourceLine" id="cb15-74" title="74"><span class="co">#&gt;   pl_age pl_azimut_int pl_bark_thick pl_code pl_dbh pl_height pl_leaf_area</span></a>
<a class="sourceLine" id="cb15-75" title="75"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;lgl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-76" title="76"><span class="co">#&gt; 1    140 Corrected, m…          23.5 ARG_TR…   23.6 NA                29.7</span></a>
<a class="sourceLine" id="cb15-77" title="77"><span class="co">#&gt; 2    140 No azimuthal…          22.5 ARG_TR…   20.2 NA                13.0</span></a>
<a class="sourceLine" id="cb15-78" title="78"><span class="co">#&gt; 3    140 No azimuthal…          22   ARG_TR…   23.8 NA                29.8</span></a>
<a class="sourceLine" id="cb15-79" title="79"><span class="co">#&gt; 4    140 No azimuthal…          23.5 ARG_TR…   19.5 NA                15.1</span></a>
<a class="sourceLine" id="cb15-80" title="80"><span class="co">#&gt; # … with 19 more variables: pl_name &lt;chr&gt;, pl_radial_int &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-81" title="81"><span class="co">#&gt; #   pl_remarks &lt;lgl&gt;, pl_sap_units &lt;chr&gt;, pl_sapw_area &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-82" title="82"><span class="co">#&gt; #   pl_sapw_depth &lt;dbl&gt;, pl_sens_calib &lt;lgl&gt;, pl_sens_cor_grad &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-83" title="83"><span class="co">#&gt; #   pl_sens_cor_zero &lt;chr&gt;, pl_sens_hgt &lt;dbl&gt;, pl_sens_length &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-84" title="84"><span class="co">#&gt; #   pl_sens_man &lt;chr&gt;, pl_sens_meth &lt;chr&gt;, pl_sens_timestep &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-85" title="85"><span class="co">#&gt; #   pl_social &lt;chr&gt;, pl_species &lt;chr&gt;, pl_treatment &lt;lgl&gt;, si_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-86" title="86"><span class="co">#&gt; #   pl_sap_units_orig &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb15-87" title="87"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-88" title="88"><span class="co">#&gt; $ARG_MAZ</span></a>
<a class="sourceLine" id="cb15-89" title="89"><span class="co">#&gt; # A tibble: 5 x 26</span></a>
<a class="sourceLine" id="cb15-90" title="90"><span class="co">#&gt;   pl_age pl_azimut_int pl_bark_thick pl_code pl_dbh pl_height pl_leaf_area</span></a>
<a class="sourceLine" id="cb15-91" title="91"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;lgl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-92" title="92"><span class="co">#&gt; 1    180 Corrected, m…          14.7 ARG_MA…   41.1 NA               109. </span></a>
<a class="sourceLine" id="cb15-93" title="93"><span class="co">#&gt; 2    180 No azimuthal…          13   ARG_MA…   33.2 NA                58.4</span></a>
<a class="sourceLine" id="cb15-94" title="94"><span class="co">#&gt; 3    180 No azimuthal…           6   ARG_MA…   23.2 NA                35.0</span></a>
<a class="sourceLine" id="cb15-95" title="95"><span class="co">#&gt; 4    180 No azimuthal…          21   ARG_MA…   55.6 NA               174. </span></a>
<a class="sourceLine" id="cb15-96" title="96"><span class="co">#&gt; 5    180 No azimuthal…          10   ARG_MA…   38   NA                88  </span></a>
<a class="sourceLine" id="cb15-97" title="97"><span class="co">#&gt; # … with 19 more variables: pl_name &lt;chr&gt;, pl_radial_int &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-98" title="98"><span class="co">#&gt; #   pl_remarks &lt;lgl&gt;, pl_sap_units &lt;chr&gt;, pl_sapw_area &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-99" title="99"><span class="co">#&gt; #   pl_sapw_depth &lt;dbl&gt;, pl_sens_calib &lt;lgl&gt;, pl_sens_cor_grad &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-100" title="100"><span class="co">#&gt; #   pl_sens_cor_zero &lt;chr&gt;, pl_sens_hgt &lt;dbl&gt;, pl_sens_length &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-101" title="101"><span class="co">#&gt; #   pl_sens_man &lt;chr&gt;, pl_sens_meth &lt;chr&gt;, pl_sens_timestep &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-102" title="102"><span class="co">#&gt; #   pl_social &lt;chr&gt;, pl_species &lt;chr&gt;, pl_treatment &lt;lgl&gt;, si_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-103" title="103"><span class="co">#&gt; #   pl_sap_units_orig &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb15-104" title="104"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-105" title="105"><span class="co">#&gt; $AUS_CAN_ST2_MIX</span></a>
<a class="sourceLine" id="cb15-106" title="106"><span class="co">#&gt; # A tibble: 34 x 26</span></a>
<a class="sourceLine" id="cb15-107" title="107"><span class="co">#&gt;    pl_age pl_azimut_int pl_bark_thick pl_code pl_dbh pl_height pl_leaf_area</span></a>
<a class="sourceLine" id="cb15-108" title="108"><span class="co">#&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;lgl&gt;         &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;lgl&gt;       </span></a>
<a class="sourceLine" id="cb15-109" title="109"><span class="co">#&gt;  1   14.5 No azimuthal… NA            AUS_CA…   13.1      14.3 NA          </span></a>
<a class="sourceLine" id="cb15-110" title="110"><span class="co">#&gt;  2   14.5 No azimuthal… NA            AUS_CA…   10.4      12.9 NA          </span></a>
<a class="sourceLine" id="cb15-111" title="111"><span class="co">#&gt;  3   14.5 No azimuthal… NA            AUS_CA…   12.8      14.1 NA          </span></a>
<a class="sourceLine" id="cb15-112" title="112"><span class="co">#&gt;  4   14.5 No azimuthal… NA            AUS_CA…   17.1      19.4 NA          </span></a>
<a class="sourceLine" id="cb15-113" title="113"><span class="co">#&gt;  5   14.5 No azimuthal… NA            AUS_CA…   11.6      13.6 NA          </span></a>
<a class="sourceLine" id="cb15-114" title="114"><span class="co">#&gt;  6   14.5 No azimuthal… NA            AUS_CA…   19.2      20.5 NA          </span></a>
<a class="sourceLine" id="cb15-115" title="115"><span class="co">#&gt;  7   14.5 No azimuthal… NA            AUS_CA…   12.8      16.6 NA          </span></a>
<a class="sourceLine" id="cb15-116" title="116"><span class="co">#&gt;  8   14.5 No azimuthal… NA            AUS_CA…   12.5      14.1 NA          </span></a>
<a class="sourceLine" id="cb15-117" title="117"><span class="co">#&gt;  9   14.5 No azimuthal… NA            AUS_CA…   13.6      17.2 NA          </span></a>
<a class="sourceLine" id="cb15-118" title="118"><span class="co">#&gt; 10   14.5 No azimuthal… NA            AUS_CA…   13.8      14.7 NA          </span></a>
<a class="sourceLine" id="cb15-119" title="119"><span class="co">#&gt; # … with 24 more rows, and 19 more variables: pl_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-120" title="120"><span class="co">#&gt; #   pl_radial_int &lt;chr&gt;, pl_remarks &lt;chr&gt;, pl_sap_units &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-121" title="121"><span class="co">#&gt; #   pl_sapw_area &lt;dbl&gt;, pl_sapw_depth &lt;dbl&gt;, pl_sens_calib &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb15-122" title="122"><span class="co">#&gt; #   pl_sens_cor_grad &lt;lgl&gt;, pl_sens_cor_zero &lt;chr&gt;, pl_sens_hgt &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-123" title="123"><span class="co">#&gt; #   pl_sens_length &lt;lgl&gt;, pl_sens_man &lt;lgl&gt;, pl_sens_meth &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-124" title="124"><span class="co">#&gt; #   pl_sens_timestep &lt;int&gt;, pl_social &lt;lgl&gt;, pl_species &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-125" title="125"><span class="co">#&gt; #   pl_treatment &lt;chr&gt;, si_code &lt;chr&gt;, pl_sap_units_orig &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb15-126" title="126"><span class="co"># with metadata, we can collapse</span></a>
<a class="sourceLine" id="cb15-127" title="127"><span class="kw"><a href="../reference/sfn_get_generics.html">get_plant_md</a></span>(multi_sfn, <span class="dt">collapse =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb15-128" title="128"><span class="co">#&gt; # A tibble: 43 x 26</span></a>
<a class="sourceLine" id="cb15-129" title="129"><span class="co">#&gt;    pl_age pl_azimut_int pl_bark_thick pl_code pl_dbh pl_height pl_leaf_area</span></a>
<a class="sourceLine" id="cb15-130" title="130"><span class="co">#&gt;     &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-131" title="131"><span class="co">#&gt;  1  140   Corrected, m…          23.5 ARG_TR…   23.6      NA           29.7</span></a>
<a class="sourceLine" id="cb15-132" title="132"><span class="co">#&gt;  2  140   No azimuthal…          22.5 ARG_TR…   20.2      NA           13.0</span></a>
<a class="sourceLine" id="cb15-133" title="133"><span class="co">#&gt;  3  140   No azimuthal…          22   ARG_TR…   23.8      NA           29.8</span></a>
<a class="sourceLine" id="cb15-134" title="134"><span class="co">#&gt;  4  140   No azimuthal…          23.5 ARG_TR…   19.5      NA           15.1</span></a>
<a class="sourceLine" id="cb15-135" title="135"><span class="co">#&gt;  5  180   Corrected, m…          14.7 ARG_MA…   41.1      NA          109. </span></a>
<a class="sourceLine" id="cb15-136" title="136"><span class="co">#&gt;  6  180   No azimuthal…          13   ARG_MA…   33.2      NA           58.4</span></a>
<a class="sourceLine" id="cb15-137" title="137"><span class="co">#&gt;  7  180   No azimuthal…           6   ARG_MA…   23.2      NA           35.0</span></a>
<a class="sourceLine" id="cb15-138" title="138"><span class="co">#&gt;  8  180   No azimuthal…          21   ARG_MA…   55.6      NA          174. </span></a>
<a class="sourceLine" id="cb15-139" title="139"><span class="co">#&gt;  9  180   No azimuthal…          10   ARG_MA…   38        NA           88  </span></a>
<a class="sourceLine" id="cb15-140" title="140"><span class="co">#&gt; 10   14.5 No azimuthal…          NA   AUS_CA…   13.1      14.3         NA  </span></a>
<a class="sourceLine" id="cb15-141" title="141"><span class="co">#&gt; # … with 33 more rows, and 19 more variables: pl_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-142" title="142"><span class="co">#&gt; #   pl_radial_int &lt;chr&gt;, pl_remarks &lt;chr&gt;, pl_sap_units &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-143" title="143"><span class="co">#&gt; #   pl_sapw_area &lt;dbl&gt;, pl_sapw_depth &lt;dbl&gt;, pl_sens_calib &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb15-144" title="144"><span class="co">#&gt; #   pl_sens_cor_grad &lt;chr&gt;, pl_sens_cor_zero &lt;chr&gt;, pl_sens_hgt &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-145" title="145"><span class="co">#&gt; #   pl_sens_length &lt;int&gt;, pl_sens_man &lt;chr&gt;, pl_sens_meth &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-146" title="146"><span class="co">#&gt; #   pl_sens_timestep &lt;int&gt;, pl_social &lt;chr&gt;, pl_species &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-147" title="147"><span class="co">#&gt; #   pl_treatment &lt;chr&gt;, si_code &lt;chr&gt;, pl_sap_units_orig &lt;chr&gt;</span></a></code></pre></div>
</div>
<div id="utilities-1" class="section level2">
<h2 class="hasAnchor">
<a href="#utilities-1" class="anchor"></a>Utilities</h2>
<p>All the utilities that exists for <code>sfn_data</code> work for <code>sfn_data_multi</code> objects, executing the function for all the sites contained in the <code>sfn_data_multi</code> object:</p>
<div id="sfn_plot-1" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_plot-1" class="anchor"></a><code>sfn_plot</code>
</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">multi_plot &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_plot.html">sfn_plot</a></span>(multi_sfn, <span class="dt">formula =</span> <span class="op">~</span><span class="st"> </span>vpd)</a>
<a class="sourceLine" id="cb16-2" title="2">multi_plot[[<span class="st">'ARG_TRE'</span>]] <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>)</a>
<a class="sourceLine" id="cb16-3" title="3">multi_plot[[<span class="st">'AUS_CAN_ST2_MIX'</span>]] <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>)</a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co">#&gt; Warning: Removed 526066 rows containing missing values (geom_point).</span></a></code></pre></div>
<p><img src="sfn-data-classes_files/figure-html/plot_multi-1.png" width="326.4"><img src="sfn-data-classes_files/figure-html/plot_multi-2.png" width="326.4"></p>
</div>
<div id="sfn_filter-1" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_filter-1" class="anchor"></a><code>sfn_filter</code>
</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">multi_filtered &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_filter.html">sfn_filter</a></span>(multi_sfn, <span class="kw"><a href="http://lubridate.tidyverse.org/reference/month.html">month</a></span>(TIMESTAMP) <span class="op">==</span><span class="st"> </span><span class="dv">11</span>)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw"><a href="../reference/sfn_get_generics.html">get_timestamp</a></span>(multi_filtered[[<span class="st">'AUS_CAN_ST2_MIX'</span>]])[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="co">#&gt;  [1] "2006-11-01 00:00:00 +10" "2006-11-01 00:30:00 +10"</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">#&gt;  [3] "2006-11-01 01:00:00 +10" "2006-11-01 01:30:00 +10"</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="co">#&gt;  [5] "2006-11-01 02:00:00 +10" "2006-11-01 02:30:00 +10"</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="co">#&gt;  [7] "2006-11-01 03:00:00 +10" "2006-11-01 03:30:00 +10"</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">#&gt;  [9] "2006-11-01 04:00:00 +10" "2006-11-01 04:30:00 +10"</span></a></code></pre></div>
</div>
<div id="sfn_mutate-1" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_mutate-1" class="anchor"></a><code>sfn_mutate</code>
</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">multi_mutated &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_mutate.html">sfn_mutate</a></span>(multi_sfn, <span class="dt">ws =</span> ws <span class="op">*</span><span class="st"> </span><span class="dv">3600</span><span class="op">/</span><span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw"><a href="../reference/sfn_get_generics.html">get_env_data</a></span>(multi_mutated[[<span class="st">'AUS_CAN_ST2_MIX'</span>]])[[<span class="st">'ws'</span>]][<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="co">#&gt;  [1] 0.00 0.00 0.00 0.00 0.36 0.36 0.00 0.00 0.00 0.36</span></a></code></pre></div>
</div>
<div id="sfn_mutate_at-1" class="section level3">
<h3 class="hasAnchor">
<a href="#sfn_mutate_at-1" class="anchor"></a><code>sfn_mutate_at</code>
</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">vars_to_not_mutate &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="st">"TIMESTAMP"</span>, <span class="st">"ta"</span>, <span class="st">"rh"</span>, <span class="st">"vpd"</span>, <span class="st">"sw_in"</span>, <span class="st">"ws"</span>,</a>
<a class="sourceLine" id="cb19-3" title="3">  <span class="st">"precip"</span>, <span class="st">"swc_shallow"</span>, <span class="st">"ppfd_in"</span>, <span class="st">"ext_rad"</span></a>
<a class="sourceLine" id="cb19-4" title="4">)</a>
<a class="sourceLine" id="cb19-5" title="5"></a>
<a class="sourceLine" id="cb19-6" title="6">multi_mutated_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sfn_mutate_at.html">sfn_mutate_at</a></span>(</a>
<a class="sourceLine" id="cb19-7" title="7">  multi_sfn,</a>
<a class="sourceLine" id="cb19-8" title="8">  <span class="kw"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(<span class="op">-</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">one_of</a></span>(vars_to_not_mutate)),</a>
<a class="sourceLine" id="cb19-9" title="9">  <span class="kw"><a href="https://dplyr.tidyverse.org/reference/funs.html">funs</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span>(</a>
<a class="sourceLine" id="cb19-10" title="10">    ws <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span>,</a>
<a class="sourceLine" id="cb19-11" title="11">    <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span>.</a>
<a class="sourceLine" id="cb19-12" title="12">  ))</a>
<a class="sourceLine" id="cb19-13" title="13">)</a>
<a class="sourceLine" id="cb19-14" title="14"><span class="co">#&gt; Warning: Unknown columns: `swc_shallow`</span></a>
<a class="sourceLine" id="cb19-15" title="15"></a>
<a class="sourceLine" id="cb19-16" title="16">multi_mutated_<span class="dv">2</span>[[<span class="st">'ARG_TRE'</span>]]</a>
<a class="sourceLine" id="cb19-17" title="17"><span class="co">#&gt; sfn_data object</span></a>
<a class="sourceLine" id="cb19-18" title="18"><span class="co">#&gt; Data from ARG_TRE site</span></a>
<a class="sourceLine" id="cb19-19" title="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-20" title="20"><span class="co">#&gt; Data kindly provided by  Seabstian Pfautsch  from  University of Sydney</span></a>
<a class="sourceLine" id="cb19-21" title="21"><span class="co">#&gt; and  Pablo Peri  from  Instituto Nacional de Tecnología Agropecuaria </span></a>
<a class="sourceLine" id="cb19-22" title="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-23" title="23"><span class="co">#&gt; Site related literature:  DOI 10.1007/s00468-013-0935-4 </span></a>
<a class="sourceLine" id="cb19-24" title="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-25" title="25"><span class="co">#&gt; Sapflow data:  312  observations of  4  trees/plants</span></a>
<a class="sourceLine" id="cb19-26" title="26"><span class="co">#&gt; Species present:  Nothofagus antarctica </span></a>
<a class="sourceLine" id="cb19-27" title="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-28" title="28"><span class="co">#&gt; Environmental data:  312  observations.</span></a>
<a class="sourceLine" id="cb19-29" title="29"><span class="co">#&gt; Variables present:</span></a>
<a class="sourceLine" id="cb19-30" title="30"><span class="co">#&gt;   ta rh vpd sw_in ws precip swc_shallow ppfd_in ext_rad </span></a>
<a class="sourceLine" id="cb19-31" title="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-32" title="32"><span class="co">#&gt; Biome:  Temperate forest </span></a>
<a class="sourceLine" id="cb19-33" title="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-34" title="34"><span class="co">#&gt; TIMESTAMP span:  2009-11-18 -03--2009-11-30 23:00:00 -03 </span></a>
<a class="sourceLine" id="cb19-35" title="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-36" title="36"><span class="co">#&gt; Solar TIMESTAMP span:  2009-11-17 22:24:58 UTC--2009-11-30 21:20:48 UTC </span></a>
<a class="sourceLine" id="cb19-37" title="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-38" title="38"><span class="co">#&gt; Sapflow data flags:</span></a>
<a class="sourceLine" id="cb19-39" title="39"><span class="co">#&gt; USER_MODF </span></a>
<a class="sourceLine" id="cb19-40" title="40"><span class="co">#&gt;      1248 </span></a>
<a class="sourceLine" id="cb19-41" title="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-42" title="42"><span class="co">#&gt; Environmental data flags:</span></a>
<a class="sourceLine" id="cb19-43" title="43"><span class="co">#&gt; RANGE_WARN   OUT_WARN CALCULATED </span></a>
<a class="sourceLine" id="cb19-44" title="44"><span class="co">#&gt;         18         24        624</span></a></code></pre></div>
</div>
<div id="metrics" class="section level3">
<h3 class="hasAnchor">
<a href="#metrics" class="anchor"></a><code>*_metrics</code>
</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">multi_metrics &lt;-<span class="st"> </span><span class="kw"><a href="../reference/metrics.html">daily_metrics</a></span>(multi_sfn)</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="co">#&gt; [1] "Crunching data for ARG_TRE. In large datasets this could take a while"</span></a>
<a class="sourceLine" id="cb20-3" title="3"><span class="co">#&gt; [1] "General data for ARG_TRE"</span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="co">#&gt; [1] "Crunching data for ARG_MAZ. In large datasets this could take a while"</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="co">#&gt; [1] "General data for ARG_MAZ"</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="co">#&gt; [1] "Crunching data for AUS_CAN_ST2_MIX. In large datasets this could take a while"</span></a>
<a class="sourceLine" id="cb20-7" title="7"><span class="co">#&gt; [1] "General data for AUS_CAN_ST2_MIX"</span></a>
<a class="sourceLine" id="cb20-8" title="8">multi_metrics[[<span class="st">'ARG_TRE'</span>]][[<span class="st">'sapf'</span>]]</a>
<a class="sourceLine" id="cb20-9" title="9"><span class="co">#&gt; # A time tibble: 14 x 21</span></a>
<a class="sourceLine" id="cb20-10" title="10"><span class="co">#&gt; # Index: TIMESTAMP</span></a>
<a class="sourceLine" id="cb20-11" title="11"><span class="co">#&gt;    TIMESTAMP           ARG_TRE_Nan_Jt_… ARG_TRE_Nan_Jt_… ARG_TRE_Nan_Jt_…</span></a>
<a class="sourceLine" id="cb20-12" title="12"><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb20-13" title="13"><span class="co">#&gt;  1 2009-11-17 00:00:00             308.             173.             303.</span></a>
<a class="sourceLine" id="cb20-14" title="14"><span class="co">#&gt;  2 2009-11-18 00:00:00             507.             376.             432.</span></a>
<a class="sourceLine" id="cb20-15" title="15"><span class="co">#&gt;  3 2009-11-19 00:00:00             541.             380.             391.</span></a>
<a class="sourceLine" id="cb20-16" title="16"><span class="co">#&gt;  4 2009-11-20 00:00:00             330.             218.             272.</span></a>
<a class="sourceLine" id="cb20-17" title="17"><span class="co">#&gt;  5 2009-11-21 00:00:00             338.             219.             278.</span></a>
<a class="sourceLine" id="cb20-18" title="18"><span class="co">#&gt;  6 2009-11-22 00:00:00             384.             243.             310.</span></a>
<a class="sourceLine" id="cb20-19" title="19"><span class="co">#&gt;  7 2009-11-23 00:00:00             492.             300.             390.</span></a>
<a class="sourceLine" id="cb20-20" title="20"><span class="co">#&gt;  8 2009-11-24 00:00:00             573.             389.             497.</span></a>
<a class="sourceLine" id="cb20-21" title="21"><span class="co">#&gt;  9 2009-11-25 00:00:00             601.             400.             484.</span></a>
<a class="sourceLine" id="cb20-22" title="22"><span class="co">#&gt; 10 2009-11-26 00:00:00             502.             360.             450.</span></a>
<a class="sourceLine" id="cb20-23" title="23"><span class="co">#&gt; 11 2009-11-27 00:00:00             544.             411.             506.</span></a>
<a class="sourceLine" id="cb20-24" title="24"><span class="co">#&gt; 12 2009-11-28 00:00:00             573.             451.             589.</span></a>
<a class="sourceLine" id="cb20-25" title="25"><span class="co">#&gt; 13 2009-11-29 00:00:00             371.             285.             357.</span></a>
<a class="sourceLine" id="cb20-26" title="26"><span class="co">#&gt; 14 2009-11-30 00:00:00             386.             293.             381.</span></a>
<a class="sourceLine" id="cb20-27" title="27"><span class="co">#&gt; # … with 17 more variables: ARG_TRE_Nan_Jt_4_mean &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-28" title="28"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_1_sd &lt;dbl&gt;, ARG_TRE_Nan_Jt_2_sd &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-29" title="29"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_3_sd &lt;dbl&gt;, ARG_TRE_Nan_Jt_4_sd &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-30" title="30"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_1_coverage &lt;dbl&gt;, ARG_TRE_Nan_Jt_2_coverage &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-31" title="31"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_3_coverage &lt;dbl&gt;, ARG_TRE_Nan_Jt_4_coverage &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-32" title="32"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_1_q_95 &lt;dbl&gt;, ARG_TRE_Nan_Jt_2_q_95 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-33" title="33"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_3_q_95 &lt;dbl&gt;, ARG_TRE_Nan_Jt_4_q_95 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-34" title="34"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_1_centroid &lt;dbl&gt;, ARG_TRE_Nan_Jt_2_centroid &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb20-35" title="35"><span class="co">#&gt; #   ARG_TRE_Nan_Jt_3_centroid &lt;dbl&gt;, ARG_TRE_Nan_Jt_4_centroid &lt;dbl&gt;</span></a></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#sfn_data"><code>sfn_data</code></a><ul class="nav nav-pills nav-stacked">
<li><a href="#s4-slots">S4 Slots</a></li>
      <li><a href="#methods">Methods</a></li>
      <li><a href="#utilities">Utilities</a></li>
      </ul>
</li>
      <li>
<a href="#sfn_data_multi"><code>sfn_data_multi</code></a><ul class="nav nav-pills nav-stacked">
<li><a href="#methods-1">Methods</a></li>
      <li><a href="#utilities-1">Utilities</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Víctor Granda, Rafael Poyatos, Víctor Flo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
